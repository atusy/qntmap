<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cluster mapping data into mineral species — cluster_xmap • qntmap</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Cluster mapping data into mineral species — cluster_xmap" />

<meta property="og:description" content="Cluster mapping data into mineral species" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-133172060-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-133172060-1');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qntmap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/qntmap.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/add_phase.html">Add phases after EPMA analysis</a>
    </li>
    <li>
      <a href="../articles/parameterize.html">Inherit parameters from previously quantified maps</a>
    </li>
    <li>
      <a href="../articles/read-incomplete-data.html">Read incomplete data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/atusy/qntmap">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cluster mapping data into mineral species</h1>
    <small class="dont-index">Source: <a href='https://github.com/atusy/qntmap/blob/master/R/cluster.R'><code>R/cluster.R</code></a></small>
    <div class="hidden name"><code>cluster_xmap.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Cluster mapping data into mineral species</p>
    
    </div>

    <pre class="usage"><span class='fu'>cluster_xmap</span>(<span class='no'>xmap</span>, <span class='no'>centers</span>, <span class='kw'>elements</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sets'>intersect</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>xmap</span>),
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/colnames'>colnames</a></span>(<span class='no'>centers</span>)), <span class='kw'>saving</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>suffix</span> <span class='kw'>=</span> <span class='st'>"_.*"</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>xmap</th>
      <td><p>A <code>qm_xmap</code> class object returned by <code><a href='read_xmap.html'>read_xmap()</a></code></p></td>
    </tr>
    <tr>
      <th>centers</th>
      <td><p>c-by-p matrix returned by <code><a href='find_centers.html'>find_centers()</a></code> or by manually;
c clusters and p features.
Used to guess initial centers (or centroids) of clusters.
A value returned by , typically <code><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></code> or <code><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>matrix</a></code>,
indicating initial guess centers (or centroids) or clusters.
See <code><a href='find_centers.html'>find_centers()</a></code>.</p></td>
    </tr>
    <tr>
      <th>elements</th>
      <td><p>A character vector to chose elements to be utilized in cluster analysis.
<code>NULL</code> (default) selects as much elements as possible.</p></td>
    </tr>
    <tr>
      <th>saving</th>
      <td><p><code>TRUE</code> or <code>FALSE</code> to save result.
Specifying <code>xte</code> coerces <code>saving</code> to be <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>suffix</th>
      <td><p>A regular expression of suffix of cluster names.
Clusters with the same prefix comprise a super cluster.
For example, "Pl_NaRich" and "Pl_NaPoor" becomes "Pl" cluster if
<code>suffix = "_.*"</code> (default).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed on to <code><a href='https://www.rdocumentation.org/packages/PoiClaClu/topics/Classify'>PoiClaClu::Classify</a></code></p><dl class='dl-horizontal'>
  <dt>xte</dt><dd><p>A m-by-p data matrix: m test observations and p features. The classifier
fit on the training data set x will be tested on this data set. If NULL,
then testing will be performed on the training set.</p></dd>
  <dt>rho</dt><dd><p>Tuning parameter controlling the amount of soft thresholding performed,
i.e. the level of sparsity, i.e. number of nonzero features in
classifier. Rho=0 means that there is no soft-thresolding, i.e. all
features used in classifier. Larger rho means that fewer features will
be used.</p></dd>
  <dt>beta</dt><dd><p>A smoothing term. A Gamma(beta,beta) prior is used to fit the
    Poisson model.
    Recommendation is to just leave it at 1, the default value.</p></dd>
  <dt>rhos</dt><dd><p>A vector of tuning parameters that control the amount of soft thresholding
performed. If "rhos" is provided then a number of
models will be fit (one for each element of "rhos"), and a number of
predicted class labels will be output (one for each element of "rhos").</p></dd>
  <dt>type</dt><dd><p>How should the observations be normalized within the
    Poisson model, i.e. how should the size factors be estimated?
    Options are "quantile" or "deseq" (more robust) or "mle" (less
    robust).

    In greater detail: "quantile" is quantile normalization approach
    of Bullard et al 2010 BMC Bioinformatics, "deseq"  is median of the
    ratio of an observation to a pseudoreference obtained by taking the
    geometric mean, described in Anders and Huber 2010 Genome Biology and
    implemented in Bioconductor package "DESeq", and "mle" is the sum of
    counts for each sample; this is the maximum likelihood estimate
    under a simple Poisson model.</p></dd>
  <dt>prior</dt><dd><p>Vector of length equal to the number of classes, representing prior
    probabilities
    for each class. If NULL then uniform priors are used (i.e. each
    class is equally likely).</p></dd>
  <dt>transform</dt><dd><p>Should data matrices x and xte first be power transformed so that it more
        closely fits
        the Poisson model? TRUE or FALSE. Power transformation is
        especially
        useful if the data are overdispersed relative to the Poisson
        model.</p></dd>
  <dt>alpha</dt><dd><p>If transform=TRUE, this determines the power to which the data
        matrices x and xte are transformed.
        If alpha=NULL then the transformation that
        makes the Poisson model best fit the data matrix x is
        computed. (Note that alpha is computed based on x, not based on
        xte). Or a value of
        alpha, 0&lt;alpha&lt;=1, can be entered by the user.</p></dd>
</dl></td>
    </tr>
    </table>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
                </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Atsushi Yasumoto, Japan Agency for Marine-Earth Science and Technology (JAMSTEC), JST PRESTO (Grant No. JPMJPR1676).</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '7d529d89cf9d49d99a324143613b100e',
    indexName: 'qntmap',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

