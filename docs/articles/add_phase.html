<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add phases after EPMA analysis • qntmap</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Add phases after EPMA analysis">
<meta property="og:description" content="qntmap">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-133172060-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-133172060-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qntmap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/qntmap.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/add_phase.html">Add phases after EPMA analysis</a>
    </li>
    <li>
      <a href="../articles/parameterize.html">Inherit parameters from previously quantified maps</a>
    </li>
    <li>
      <a href="../articles/read-incomplete-data.html">Read incomplete data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/atusy/qntmap/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="add_phase_files/header-attrs-2.7.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Add phases after EPMA analysis</h1>
                        <h4 class="author">YASUMOTO Atsushi</h4>
            
            <h4 class="date">2021-04-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/atusy/qntmap/blob/master/vignettes/add_phase.Rmd"><code>vignettes/add_phase.Rmd</code></a></small>
      <div class="hidden name"><code>add_phase.Rmd</code></div>

    </div>

    
    
<!-- © 2018 JAMSTEC -->
<div id="intro" class="section level1">
<h1 class="hasAnchor">
<a href="#intro" class="anchor"></a>Intro</h1>
<p>This document introduces a way to quantify X-ray map even if, in accident, there are some phases without spot analysis. For accurate analysis, I highly recommend careful observation prior to EPMA analysis, so that as less phases as possible being missed.</p>
<p>Please read <a href="qntmap.html">“Get started”</a> before hand.</p>
</div>
<div id="preparation" class="section level1">
<h1 class="hasAnchor">
<a href="#preparation" class="anchor"></a>Preparation</h1>
<p>This section prepares package, files, and modify sample data. An original sample dataset is same as that used in <a href="qntmap.html">“Get started”</a>. However, the dataset will be modified to let a phase be not analyzed by EPMA spot analysis. This is why “<a href="#specify-directories-containing-data">Specify directories containing data</a>” and “<a href="#load-data">Load Data</a>” belongs to “<a href="#preparation">Preparation</a>” despite they belongs to <a href="basic#Analysis">Analysis section of “Basic usage”</a>.</p>
<div id="load-package" class="section level2">
<h2 class="hasAnchor">
<a href="#load-package" class="anchor"></a>Load package</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/atusy/qntmap/">qntmap</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="move-to-working-directory" class="section level2">
<h2 class="hasAnchor">
<a href="#move-to-working-directory" class="anchor"></a>Move to working directory</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Arbitrary</span>
<span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="va">wd</span><span class="op">)</span></code></pre></div>
</div>
<div id="copy-example-data" class="section level2">
<h2 class="hasAnchor">
<a href="#copy-example-data" class="anchor"></a>Copy example data</h2>
<p>or any original data.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.copy</a></span><span class="op">(</span>
  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">'extdata'</span>, <span class="st">'minimal'</span>, package <span class="op">=</span> <span class="st">'qntmap'</span><span class="op">)</span>,
  to <span class="op">=</span> <span class="va">wd</span>,
  recursive <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p><code>TRUE</code> indicates files are successfully copied. Check if really files are copied by <code><a href="https://rdrr.io/r/base/list.files.html">dir()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/list.files.html">dir</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">wd</span>, <span class="st">'minimal'</span><span class="op">)</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span>, all.files <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] ".map/1/0.cnd"        ".map/1/1_map.txt"    ".map/1/1.cnd"       </span>
<span class="co">#&gt;  [4] ".map/1/2_map.txt"    ".map/1/2.cnd"        ".qnt/.cnd/elemw.cnd"</span>
<span class="co">#&gt;  [7] ".qnt/bgm.qnt"        ".qnt/bgp.qnt"        ".qnt/elem.qnt"      </span>
<span class="co">#&gt; [10] ".qnt/elint.qnt"      ".qnt/mes.qnt"        ".qnt/net.qnt"       </span>
<span class="co">#&gt; [13] ".qnt/pkint.qnt"      ".qnt/stg.qnt"        ".qnt/wt.qnt"        </span>
<span class="co">#&gt; [16] "conditions_qnt.csv"  "conditions_xmap.csv" "README.md"</span></code></pre></div>
</div>
<div id="specify-directories-containing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#specify-directories-containing-data" class="anchor"></a>Specify directories containing data</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dir_map</span> <span class="op">&lt;-</span> <span class="st">'minimal/.map/1'</span>
<span class="va">dir_qnt</span> <span class="op">&lt;-</span> <span class="st">'minimal/.qnt'</span></code></pre></div>
</div>
<div id="load-data" class="section level2">
<h2 class="hasAnchor">
<a href="#load-data" class="anchor"></a>Load data</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">xmap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_xmap.html">read_xmap</a></span><span class="op">(</span><span class="va">dir_map</span><span class="op">)</span>
<span class="va">qnt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_qnt.html">read_qnt</a></span><span class="op">(</span><span class="va">dir_qnt</span><span class="op">)</span></code></pre></div>
</div>
<div id="check-quantified-data" class="section level2">
<h2 class="hasAnchor">
<a href="#check-quantified-data" class="anchor"></a>Check quantified data</h2>
<p>In the original dataet, 20 spots are analyzed by EPMA on both olivine and quartz.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">qnt</span><span class="op">$</span><span class="va">cnd</span><span class="op">$</span><span class="va">phase</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Ol Qtz </span>
<span class="co">#&gt;  20  20</span></code></pre></div>
</div>
<div id="modify-data" class="section level2">
<h2 class="hasAnchor">
<a href="#modify-data" class="anchor"></a>Modify data</h2>
<p>Let’s delete quartz from dataset and reload.</p>
<p>After <code><a href="../reference/read_qnt.html">read_qnt()</a></code> is performed, a file <code>phase_list0.csv</code> is created under working directory. This file consists of 3 columns <code>id</code>, <code>phase</code>, and <code>use</code>.</p>
<p>Edit <strong>only</strong> <code>phase</code> and <code>use</code>. Do not edit <code>id</code>. If certain phases have large compositional variations, fill <code>phase</code> column with different names. (e.g., Ol_Fe and Ol_Mg for Fe-rich olivine and Mg-rich olivine). If certain analysis show bad results, fill <code>use</code> column with <code>FALSE</code>, otherwise <code>TRUE</code>.</p>
<p>To do it on R, execute codes below. Be sure to specify a path to modified csv file to <code>phase_list</code> parameter of <code>read_qnt</code>. Also, <code>renew</code> parameter of <code>read_qnt</code> must be <code>TRUE</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">phase_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">'phase_list0.csv'</span><span class="op">)</span>
<span class="va">phase_list</span><span class="op">$</span><span class="va">use</span><span class="op">[</span><span class="va">phase_list</span><span class="op">$</span><span class="va">phase</span> <span class="op">==</span> <span class="st">'Qtz'</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">phase_list</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">dir_qnt</span>, <span class="st">'phase_list_no_qtz.csv'</span><span class="op">)</span><span class="op">)</span>
<span class="va">qnt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_qnt.html">read_qnt</a></span><span class="op">(</span><span class="va">dir_qnt</span>, phase_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">dir_qnt</span>, <span class="st">'phase_list_no_qtz.csv'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>After editing, only olivine is said to be quantified.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">qnt</span><span class="op">$</span><span class="va">cnd</span><span class="op">$</span><span class="va">phase</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Ol Qtz </span>
<span class="co">#&gt;  20  20</span></code></pre></div>
<p><img src="add_phase_files/figure-html/plot-quantified-points-1.png" width="480"><img src="add_phase_files/figure-html/plot-quantified-points-2.png" width="480"></p>
</div>
</div>
<div id="analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#analysis" class="anchor"></a>Analysis</h1>
<div id="cluster-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#cluster-analysis" class="anchor"></a>Cluster analysis</h2>
<div id="initialize-cluster-centers" class="section level3">
<h3 class="hasAnchor">
<a href="#initialize-cluster-centers" class="anchor"></a>Initialize cluster centers</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">centers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_centers.html">find_centers</a></span><span class="op">(</span><span class="va">xmap</span>, <span class="va">qnt</span><span class="op">)</span>
<span class="va">centers</span>
<span class="co">#&gt;   phase     Si      Mg</span>
<span class="co">#&gt; 1    Ol 4263.8 5722.45</span></code></pre></div>
</div>
<div id="compare-the-initial-centroids-with-x-ray-map-plotted-with-heatmap" class="section level3">
<h3 class="hasAnchor">
<a href="#compare-the-initial-centroids-with-x-ray-map-plotted-with-heatmap" class="anchor"></a>Compare the initial centroids with X-ray map plotted with heatmap</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">xmap</span>, <span class="st">'Si'</span>, interactive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="add_phase_files/figure-html/plot-si-1.png" width="480"></p>
<p>In this case, an analysist will notice there is something other than olivine. Let’s mouse over the <strong>interactive map</strong> and one will see one of the coordinates of quartz (e.g., x = 18, y = 28). Keep it on your note.</p>
</div>
<div id="add-initial-centers" class="section level3">
<h3 class="hasAnchor">
<a href="#add-initial-centers" class="anchor"></a>Add initial centers</h3>
<div id="on-r" class="section level4">
<h4 class="hasAnchor">
<a href="#on-r" class="anchor"></a>on R</h4>
<p>Add initial centers by using <code>add_centers</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">centers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_centers.html">add_centers</a></span><span class="op">(</span>centers <span class="op">=</span> <span class="va">centers</span>, xmap <span class="op">=</span> <span class="va">xmap</span>, x <span class="op">=</span> <span class="fl">18</span>, y <span class="op">=</span> <span class="fl">28</span>, p <span class="op">=</span> <span class="st">'Qtz'</span><span class="op">)</span></code></pre></div>
<p>Then, Qtz is properly added to <code>centers</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">centers</span><span class="op">)</span>
<span class="co">#&gt;   phase      Si      Mg</span>
<span class="co">#&gt; 1    Ol  4263.8 5722.45</span>
<span class="co">#&gt; 2   Qtz 10126.0    0.00</span></code></pre></div>
</div>
<div id="on-spreadsheet-program-r" class="section level4">
<h4 class="hasAnchor">
<a href="#on-spreadsheet-program-r" class="anchor"></a>on Spreadsheet program + R</h4>
<ul>
<li>Open <code>centers_initial0.csv</code> in the current directory (try <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> on R if unknown).</li>
<li>Edit it</li>
<li>Save it</li>
<li>Reload on R by <code>centers &lt;- read.csv('path to an updated csv file')</code>
</li>
</ul>
</div>
</div>
<div id="cluster-and-quantify" class="section level3">
<h3 class="hasAnchor">
<a href="#cluster-and-quantify" class="anchor"></a>Cluster and quantify</h3>
<p>As Qtz is not quantified during spot analysis, calibration curves for Qtz is substituted by results of regression analysis without considering different phases. Try “<a href="#quasi-calibrations">Quasi-calibrations</a>” in case phases not quantified have known and constant chemical compositions.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cluster</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cluster_xmap.html">cluster_xmap</a></span><span class="op">(</span><span class="va">xmap</span>, <span class="va">centers</span><span class="op">)</span>
<span class="va">qmap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/quantify.html">quantify</a></span><span class="op">(</span><span class="va">xmap</span>, <span class="va">qnt</span>, <span class="va">cluster</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">cluster</span><span class="op">)</span>
<span class="co">#&gt;          Ol        Qtz</span>
<span class="co">#&gt; 1 0.9000567 0.09994333</span>
<span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">qmap</span><span class="op">)</span>
<span class="co">#&gt;   Element  Min. 1st Qu. Median   Mean 3rd Qu.   Max.</span>
<span class="co">#&gt; 1    SiO2 40.54   42.49  42.97  48.69   43.52 103.91</span>
<span class="co">#&gt; 2     MgO  0.00   56.46  57.10  51.49   57.68  59.87</span>
<span class="co">#&gt; 3   Total 96.43   99.46 100.18 100.18  100.88 104.37</span></code></pre></div>
<div id="quasi-calibrations" class="section level4">
<h4 class="hasAnchor">
<a href="#quasi-calibrations" class="anchor"></a>Quasi-calibrations</h4>
<p>In case phases without spot analysis have known chemical compositions, their calibration curves can be calculated by specifying their chemical compositions in csv format.</p>
<p>For example, prepare a csv file, and specify it to <code>fix</code> parameter of <code><a href="../reference/quantify.html">quantify()</a></code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">csv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span>
    <span class="st">'phase, oxide, wt'</span>,
    <span class="st">'Qtz,   SiO2,      100'</span>,
    sep <span class="op">=</span> <span class="st">"\n"</span>
  <span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">csv</span><span class="op">)</span>
<span class="co">#&gt; phase, oxide, wt</span>
<span class="co">#&gt; Qtz,   SiO2,      100</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">qmap2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/quantify.html">quantify</a></span><span class="op">(</span><span class="va">xmap</span>, <span class="va">qnt</span>, <span class="va">cluster</span>, fix <span class="op">=</span> <span class="va">csv</span><span class="op">)</span>
<span class="fu"><a href="../reference/summary.html">summary</a></span><span class="op">(</span><span class="va">qmap2</span><span class="op">)</span>
<span class="co">#&gt;   Element  Min. 1st Qu. Median   Mean 3rd Qu.   Max.</span>
<span class="co">#&gt; 1    SiO2 40.54   42.49  42.97  48.54   43.52 102.41</span>
<span class="co">#&gt; 2     MgO  0.00   56.46  57.10  51.49   57.68  59.87</span>
<span class="co">#&gt; 3   Total 96.43   99.34 100.04 100.03  100.73 104.37</span></code></pre></div>
<p>Of course, <code>csv</code> parameter can be a path to a csv file, unlike the above example, which gave csv data the <code>csv</code> parameter.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#intro">Intro</a></li>
      <li>
<a href="#preparation">Preparation</a>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#load-package">Load package</a></li>
      <li><a href="#move-to-working-directory">Move to working directory</a></li>
      <li><a href="#copy-example-data">Copy example data</a></li>
      <li><a href="#specify-directories-containing-data">Specify directories containing data</a></li>
      <li><a href="#load-data">Load data</a></li>
      <li><a href="#check-quantified-data">Check quantified data</a></li>
      <li><a href="#modify-data">Modify data</a></li>
      </ul>
</li>
      <li>
<a href="#analysis">Analysis</a>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#cluster-analysis">Cluster analysis</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Atsushi Yasumoto, Japan Agency for Marine-Earth Science and Technology (JAMSTEC), JST PRESTO (Grant No. JPMJPR1676).</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '7d529d89cf9d49d99a324143613b100e',
    indexName: 'qntmap',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
